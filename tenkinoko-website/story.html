<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="description" content="映画ザ・バットマンオフィシャルサイト">
  <meta name="keywords" content="ザ・バットマン, 映画, ロードショウ">
  <title>STORY</title>

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const section = document.querySelector('.zoom-section');
    if (!section) return;
    const img = section.querySelector('img');

    const onScroll = () => {
      const rect = section.getBoundingClientRect();
      const progress = Math.min(Math.max(-rect.top / (section.offsetHeight - window.innerHeight), 0), 1);
      const scale   = 1 + progress * 0.6;        // up to 1.4× zoom
      const opacity = 1 - progress * 0.4;        // fades to 0.6
      img.style.transform = `scale(${scale})`;
      img.style.opacity   = opacity;
    };

    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll(); // initialize
  });
</script>
</head>

<body>
  <div class="wrapper">
    <!-- Header -->
    <header class="header">
      <div class="header-wrapper">
        <div class="header-logo">
          <h1>
            <a href="index.html">
              <img src="images/img-logo.png" alt="天気の子">
            </a>
          </h1>
        </div>

        <!-- Main Navigation -->
        <nav class="navigation-main">
          <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="story.html">STORY</a></li>
            <li><a href="characters.html">CHARACTERS</a></li>
            <li><a href="voice-cast.html">VOICE CAST</a></li>
            <li><a href="teaser.html">TEASER</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Visual with scroll‑zoom -->
    <section class="zoom-section">
      <div class="main-visual-secondpage">
        <img src="images/mainvisual-secondpage.jpg" alt="Main Image">
      </div>
    </section>

    <!-- Main Content -->
    <main>
      <section class="content-wrapper">
        <div class="content-text-story">
          <h2 class="fade-in">STORY</h2>
          <p class="slide-up-late">雨が止まない真夏の東京。家出して島から流れ着いた高１の少年・帆高は、薄暗い路地裏で “晴れ” を呼ぶ少女・陽菜と出会う。祈るだけで空を晴らす──100％の “晴れ女” という奇跡。</p>
          <p class="slide-up-late">二人は〈晴れ女ビジネス〉を始め、灰色の空に閉ざされた街と人々の心に、一瞬の光を差し込ませていく。</p>
          <p class="slide-up-late">けれど、その晴れ間には残酷な代償が潜んでいた。古い言い伝えどおり、陽菜の身体は透き通り、やがて空へと消え去ろうとしている。</p>
          <p class="slide-up-late">帆高は彼女を救うため、自分の未来さえ投げ出す覚悟で “最後の選択” に踏み出す。</p>
          <p class="slide-up-late">雨の東京が見守る中―</p>
          <p class="slide-up-late">少年と少女が世界の秘密に触れながら、ただひとつの奇跡を願う、切なくも美しい愛の物語。</p>
        </div>

        <div class="content-img-story">
          <img src="images/img-story.jpg" alt="Story Image" class="slide-up">
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <nav class="footer-navigation">
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="story.html">STORY</a></li>
          <li><a href="characters.html">CHARACTERS</a></li>
          <li><a href="voice-cast.html">VOICE CAST</a></li>
          <li><a href="teaser.html">TEASER</a></li>
        </ul>
      </nav>
      <div class="footer-copyright">
        <small>&copy; 2019 TENKI NO KO</small>
      </div>
    </footer>
  </div>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // paragraphs, the story image, and the h2 fade-in
      const targets = document.querySelectorAll('.content-text-story h2.fade-in, .content-text-story p.slide-up-late, .content-img-story img.slide-up');
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');   // reveal
            obs.unobserve(entry.target);             // stop observing
          }
        });
      }, {
        rootMargin: '0px 0px -20% 0px',  // trigger when element is in upper half
        threshold: 0
      });

      targets.forEach(t => observer.observe(t));
    });
  </script>
</body>
</html>